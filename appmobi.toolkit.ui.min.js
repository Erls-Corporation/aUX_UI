window.AppMobi||(AppMobi={});if(!AppMobi.toolkit)AppMobi.toolkit={};AppMobi.toolkit.appMobiSelect=function(){this.oldSelects=[]};
AppMobi.toolkit.appMobiSelect.prototype={oldSelects:[],scroller:null,getOldSelects:function(b){if(AppMobi.toolkit.scroller){var c=b&&document.getElementById(b)?document.getElementById(b):document;if(c){b=c.getElementsByTagName("select");for(c=0;c<b.length;c++)this.oldSelects.push(document.getElementById(b[c]));for(var g=this,c=0;c<b.length;c++){var e=document.createElement("input"),f=parseInt(b[c].style.width)>0?parseInt(b[c].style.width):100,h=parseInt(b[c].style.height)>0?parseInt(b[c].style.height):
20;e.type="text";e.style.width=f+"px";e.style.height=h+"px";e.style.position="absolute";e.style.left="0px";e.style.top="0px";e.style.zIndex="1";e.value=b[c].value;e.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat";
e.style.backgroundColor="white";e.className="appMobiSelect_fakeInput";e.id=b[c].id+"_appMobiSelect";var a=document.createElement("input");a.type="image";a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==";a.style.width=f+5+"px";a.style.height=h+5+"px";a.style.left="0px";a.style.top="0px";a.style.zIndex="2";a.style.position="absolute";a.linkId=b[c].id;a.className="appMobiSelect_imageMask";a.onclick=function(a){a.preventDefault();
a.stopPropagation();g.initDropDown(this.linkId)};b[c].parentNode.appendChild(e);b[c].parentNode.appendChild(a);b[c].parentNode.style.position="relative";b[c].style.display="none";b[c].style.webkitAppearance="none";for(f=0;f<b[c].options.length;f++){if(b[c].options[f].selected)e.value=b[c].options[f].text;this.watcher(b[c].options[f],"selected",function(a,d,b){if(b==!0)g.updateMaskValue(this.parentNode.id,this.text),this.parentNode.value=this.value;return b})}this.watcher(b,"selectedIndex",function(a,
d,b){if(this.options[b])g.updateMaskValue(this.id,this.options[b].text),this.value=this.options[b].value;return b});this.createHtml()}}else alert("Could not find container element for appMobiPassword "+b)}else alert("This library requires AppMobi scroller")},updateDropdown:function(b){if(b=document.getElementById(b))for(var c=0;c<b.options.length;c++){if(b.options[c].selected)fakeInput.value=b.options[c].text;this.watcher(b.options[c],"selected",function(b,c,f){if(f==!0)that.updateMaskValue(this.parentNode.id,
this.text),this.parentNode.value=this.value;return f})}},initDropDown:function(b){var c=this,g=document.getElementById(b);if(g&&g.options&&g.options.length!=0){var e=0;document.getElementById("appMobiselectBoxScroll").innerHTML="";for(var f=0;f<g.options.length;f++){this.watcher(g.options[f],"selected",function(a,d,t){if(t==!0)c.updateMaskValue(this.parentNode.id,this.text),this.parentNode.value=this.value;return t});var h="",a="background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.17, rgb(102,102,102)),color-stop(0.59, rgb(94,94,94)))",
k;g.value==g.options[f].value?(a="background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.17, rgb(8,8,8)),color-stop(0.59, rgb(38,38,38)))",h="checked",e=f,k="id='appmobiSelectBox_found'"):k="";var d=document.createElement("div");d.id=k;d.style.cssText=a+";padding-top:10px;font-size:80%;padding-left:10px;height:30px;width:100%;position:relative;width:100%;";a=document.createElement("a");a.href="javascript:;";a.tmpValue=f;a.onclick=function(){c.setDropDownValue(b,this.tmpValue)};
a.style.cssText="text-decoration:none;color:white;";a.innerHTML=g.options[f].text;var n=document.createElement("span");n.style.cssText="float:right;margin-right:20px;margin-top:-2px";var l=document.createElement("button");l.style.cssText=k?"color: #ffffff;padding: 0px 0px;background: -webkit-gradient(linear, left top, left bottom,from(#ffffff),color-stop(0.50, #3b3b3b),color-stop(0.50, #242424),to(#ffffff));border-radius: 30px;border: 0px solid #000000;-webkit-box-shadow:\t0px 1px 3px rgba(000,000,000,0.5),inset 0px 0px 1px rgba(255,255,255,0.6);":
"color: #ffffff;padding: 0px 0px;background: -webkit-gradient(linear, left top, left bottom,from(#ffffff),color-stop(0.44, #dbd8db),to(#ffffff));border-radius: 30px;border: 0px solid #000000;-webkit-box-shadow:\t0px 1px 3px rgba(000,000,000,0.5),inset 0px 0px 1px rgba(255,255,255,0.6);";l.style.width="20px";l.style.height="20px";l.tmpValue=f;l.onclick=function(){c.setDropDownValue(b,this.tmpValue)};l.checked=h;n.appendChild(l);d.appendChild(a);d.appendChild(n);document.getElementById("appMobiselectBoxScroll").appendChild(d)}try{document.getElementById("appMobiselectBoxContainer").style.display=
"block"}catch(r){console.log("Error showing div "+r)}try{e>=3&&this.scroller.scrollTo({x:0,y:e*-40})}catch(o){console.log("error init dropdown"+o)}}},updateMaskValue:function(b,c){var g=document.getElementById(b+"_appMobiSelect");if(g)g.value=c},setDropDownValue:function(b,c){var g=document.getElementById(b);if(g)g.selectedIndex=c;this.scroller.scrollTo({x:0,y:0});this.hideDropDown()},hideDropDown:function(){document.getElementById("appMobiselectBoxContainer").style.display="none";document.getElementById("appMobiselectBoxScroll").innerHTML=
""},createHtml:function(){var b=this;if(!document.getElementById("appMobiselectBoxContainer")){var c=document.createElement("div");c.id="appMobiselectBoxContainer";c.style.cssText="position:absolute;bottom:0px;display:none;width:100%;height:175px; z-index:200000;background:black;color:white;";c.innerHTML='<div style=\'height:35px;width:100%;text-align:center;\'><button id="appMobiSelectCloseButton"  style="width:100px;background:#e3e3e3;border: 1px solid #bbb;border-radius: 6px;box-shadow: inset 0 0 1px 1px #f6f6f6;color: #333;font-weight: bold;line-height: 1;padding: 8px 0 9px;text-align: center;text-shadow: 0 1px 0 #fff;width: 6-px;">Done</button></div><div id="appMobiselectBoxFix"  style="position:relative;height:150px;background:black;overflow:hidden;width:100%"><div id="appMobiselectBoxScroll"></div></div>';
document.body.appendChild(c);document.getElementById("appMobiSelectCloseButton").onclick=function(){b.hideDropDown()};try{this.scroller=new AppMobi.toolkit.scroller("appMobiselectBoxScroll",{scroller:!1,verticalScroll:!0})}catch(g){console.log("Error creating select html "+g)}}},watcher:function(b,c,g){var e=b[c];window.setInterval(function(){newval=b[c];newval!=e&&(g.call(b,c,e,newval),e=newval)},1500)}};function getScrollerValue(b){return document.getElementById(b).value};window.AppMobi||(AppMobi={});if(!AppMobi.toolkit)AppMobi.toolkit={};
AppMobi.toolkit.css3Animate=function(){function b(h){h.preventDefault();var a=h.target;if(h.target.moving)a.removeEventListener("webkitTransitionEnd",b,!0),h.target.moving=!1,e[a.id]&&e[a.id].length>0&&e[a.id].shift()()}var c="m11"in new WebKitCSSMatrix?"3d(":"(",g="m11"in new WebKitCSSMatrix?",0)":")",e={},f=function(h,a){this.el=typeof h=="string"||h instanceof String?document.getElementById(h):h;if(!this instanceof f)return new f(h,a);if(this.el)if(a){this.animID=0|Math.random()*99999999;this.el.addEventListener("webkitTransitionEnd",
b,!1);if(a.opacity)this.el.style.opacity=a.opacity;a.y||(a.y=0);a.x||(a.x=0);a.previous&&(a.y+=(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).f,a.x+=(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).e);if(!a.origin)a.origin="0% 0%";if(!a.scale)a.scale="1";if(!a.rotateY)a.rotateY="0";if(!a.rotateX)a.rotateX="0";if(!a.skewY)a.skewY="0";if(!a.skewX)a.skewX="0";a.timingFunction||(a.timingFunction="linear");this.el.moving=!0;if(typeof a.x=="number"||a.x.indexOf("%")==
-1&&a.x.toLowerCase().indexOf("px")==-1)a.x=parseInt(a.x)+"px";if(typeof a.y=="number"||a.y.indexOf("%")==-1&&a.y.toLowerCase().indexOf("px")==-1)a.y=parseInt(a.y)+"px";this.el.style.webkitTransform="translate"+c+a.x+","+a.y+g+" scale("+parseFloat(a.scale)+") rotate("+a.rotateX+") rotateY("+a.rotateY+") skew("+a.skewX+","+a.skewY+")";this.el.style.webkitBackfaceVisiblity="hidden";this.el.style.webkitTransition="all "+a.time;this.el.style.webkitTransitionTimingFunction=a.timingFunction;this.el.style.webkitTransformOrigin=
a.origin;if(a.width)this.el.style.width=a.width;if(a.height)this.el.style.height=a.height;a.callback&&(e[this.el.id]||(e[this.el.id]=[]),e[this.el.id].push(a.callback))}else alert("Please provide configuration options for animation of "+h)};return f}();window.AppMobi||(AppMobi={});if(!AppMobi.toolkit)AppMobi.toolkit={};AppMobi.domFired=!1;document.addEventListener("DOMContentLoaded",function(){AppMobi.domFired=!0},!1);
AppMobi.toolkit.ui=function(){function b(a){return document.getElementById(a)}function c(a,d,b){var h=[];b||(b="*");a=a.getElementsByTagName(b);b=a.length;for(i=0;i<b;i++)a[i].className.indexOf(d)!=-1&&(h.push(a[i]),a[i].getAttribute("selected")&&(q=a[i]));return h}new WebKitCSSMatrix;new WebKitCSSMatrix;var g="",e="",f="",h="",a=[],k="",d=AppMobi.toolkit.css3Animate,n=new AppMobi.toolkit.appMobiPassword,l=new AppMobi.toolkit.appMobiSelect,r="",o=[],q="",s=function(){if(!AppMobi.domFired)return new s;
var t=this,p=b("toolbar");g=b("content");e=b("navbar");if(!p){var p=document.createElement("div");p.id="toolbar";p.style.cssText="display:none"}if(!e)e=document.createElement("div"),e.id="navbar",document.body.appendChild(e);if(!g)g=document.createElement("div"),g.id="content",document.body.appendChild(g);e.innerHTML='<a id="backButton"  href="javascript:;"><div>Back</div></a> <h1 id="pageTitle"></h1>'+e.innerHTML;f=b("backButton");f.className="button";f.onclick=function(){if(a.length>0){var d=a.pop();
t.loadContent(d.target+"",0,1,d.transition)}};f.style.visibility="hidden";h=b("pageTitle");this.addContentDiv("AMUi_ajax","");var m=document.createElement("div");m.id="AMUI_mask";m.className="ui-loader ui-body-a ui-corner-all loading-mask";m.innerHTML="<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>";m.zIndex=2E4;m.style.display="none";document.body.appendChild(m);document.addEventListener("appMobi.device.orientation.change",t.updateOrientation,!1);this.updateAnchors(p,
1);this.updateAnchors(e);for(p=c(document,"panel","div");p.length>0;){var n=m=p.pop();m.parentNode&&m.parentNode.id!="content"&&(m.parentNode.removeChild(m),this.addDivAndScroll(n))}q&&(k=q,window.setTimeout(function(){d(q,{x:"100%",time:"0ms"});if(k.title)h.innerHTML=k.title},100))};s.prototype={clearHistory:function(){this.history=[]},updateContentDiv:function(a,d){var h=b(a);if(h)h.childNodes[0].innerHTML=d},addContentDiv:function(a,d){var b=document.getElementById(a);if(!b)b=document.createElement("div"),
b.id=a,b.innerHTML=d;b.className="panel";this.addDivAndScroll(b)},addDivAndScroll:function(a){g.appendChild(a);var d=!0;a.getAttribute("scrolling")&&a.getAttribute("scrolling").toLowerCase()=="no"&&(d=!1);var b=document.createElement("div");b.innerHTML=a.innerHTML;b.innerHTML+="<Br>";a.innerHTML="";a.appendChild(b);this.updateAnchors(b);l.getOldSelects(a.id);n.getOldPasswords(a.id);d&&(o[a.id]=AppMobi.toolkit.scroller(b,{scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"scrollBarV"}))},
updateAnchors:function(a,d){for(var b=a.getElementsByTagName("a"),h=this,c=0;c<b.length;c++)if(b[c].href.indexOf("javascript:")==-1)b[c].oldhref=b[c].href,b[c].oldhash=b[c].hash,b[c].href="javascript:;",b[c].oldonclick=b[c].onclick,b[c].resetHistory=d,b[c].onclick=function(){var a="slide";if(this.target&&this.target!="")AppMobi.device&&AppMobi.device.showRemoteSite?AppMobi.device.showRemoteSite(this.oldhref):window.open(this.oldhref);else{switch(this.getAttribute("data-transition")){case "up":a="up";
break;case "down":a="down";break;case "flip":a="flip";break;case "fade":a="fade";break;case "pop":a="pop";break;default:a="slide"}h.loadContent(this.oldhash?this.oldhash:this.oldhref,this.resetHistory,0,a);this.oldonclick&&this.oldonclick()}}},updateOrientation:function(){for(var a=0;a<o.length;a++)o[a].scrollTo({x:0,y:0});d(k,{x:"100%",time:"0ms"})},loadContent:function(d,c,e,g){try{what=null;var n=this;n.hideMask();if(d.indexOf("#")==-1){if(!(k.id=="AMUi_ajax"&&d==r)){d.indexOf("http")==-1&&(d=
AppMobi.webRoot+d);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState==4&&l.status==200)n.updateContentDiv("AMUi_ajax",l.responseText),b("AMUi_ajax").title=d,n.loadContent("#AMUi_ajax",c,e)};r=d;l.open("GET",d,!0);l.send();this.showMask()}}else if(what=d.replace("#",""),what=b(what),what!=k||e){what.style.display="block";o[what.id]&&o[what.id].scrollTo({x:0,y:0});c?(a=[],a.push({target:"#"+q.id,transition:"slide"})):e||a.push({target:"#"+k.id,transition:g});var u=k,v=what;switch(g){case "up":this.slideUpTransition(u,
v,e);break;case "down":this.slideDownTransition(u,v,e);break;case "fade":this.fadeTransition(u,v,e);break;case "flip":this.flipTransition(u,v,e);break;case "pop":this.popTransition(u,v,e);break;default:this.slideTransition(u,v,e)}if(e){if(a.length>0){var s=b(a[a.length-1].target.replace("#",""));f.innerHTML="<div>"+s.title+"</div>"}}else f.innerHTML=k.title?"<div>"+k.title+"</div>":"<div>Back</div>";if(what.title)h.innerHTML=what.title;if(c)f.innerHTML=q.title;a.length==0?(f.style.visibility="hidden",
a=[]):f.style.visibility="visible";k=what}}catch(w){console.log("Error with loading content "+w+"  - "+d)}},showMask:function(){b("AMUI_mask").style.display="block"},hideMask:function(){b("AMUI_mask").style.display="none"},slideTransition:function(a,b,c){c?(d(a,{x:"200%",time:"200ms",callback:function(){d(a,{x:0,time:"1ms"})}}),d(b,{x:"100%",time:"200ms"})):(d(a,{x:"0%",time:"200ms"}),d(b,{x:"200%",time:"1ms",callback:function(){d(b,{x:"100%",time:"200ms"})}}))},slideUpTransition:function(a,b,c){c?
(d(b,{x:"100%",y:"0%",time:"1ms"}),d(a,{y:"100%",x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,time:"1ms"});b.style.zIndex=2;a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=2,d(a,{x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,time:"1ms"})}}),d(b,{y:"100%",x:"100%",time:"1ms",callback:function(){d(b,{y:"0%",x:"100%",time:"200ms"})}}))},slideDownTransition:function(a,b,c){c?(d(b,{x:"100%",y:"0%",time:"1ms"}),d(a,{y:"-100%",x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,
time:"1ms"});b.style.zIndex=2;a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=2,d(a,{x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,time:"1ms"})}}),d(b,{y:"-100%",x:"100%",time:"1ms",callback:function(){d(b,{y:"0%",x:"100%",time:"200ms"})}}))},flipTransition:function(a,b,c){c?(d(b,{x:"200%",time:"1ms",scale:0.8,rotateY:"180deg",callback:function(){d(b,{x:"100%",time:"200ms"})}}),d(a,{x:"200%",time:"200ms",scale:0.8,rotateY:"180deg",callback:function(){d(a,{x:0,time:"1ms",opacity:1});
b.style.zIndex=2;a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=2,d(a,{x:"200%",time:"200ms",scale:".8",rotateY:"180deg",callback:function(){d(a,{x:0,y:0,time:"1ms"})}}),d(b,{x:"200%",time:"1ms",scale:0.8,rotateY:"180deg",callback:function(){d(b,{x:"100%",time:"200ms"})}}))},fadeTransition:function(a,b,c){c?(d(b,{x:"100%",time:"1ms"}),d(a,{x:"100%",time:"200ms",opacity:0.1,callback:function(){d(a,{x:0,time:"1ms",opacity:1});b.style.zIndex=2;a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=
2,d(a,{x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,time:"1ms"})}}),b.style.opacity=0,d(b,{x:"100%",time:"1ms",callback:function(){d(b,{x:"100%",time:"200ms",opacity:1})}}))},popTransition:function(a,b,c){c?(d(b,{x:"100%",time:"1ms"}),d(a,{x:"100%",time:"200ms",opacity:0.1,scale:0.2,origin:"50% 50%",callback:function(){d(a,{x:0,time:"1ms"});b.style.zIndex=2;a.style.zIndex=1}})):(a.style.zIndex=1,b.style.zIndex=2,d(a,{x:"100%",time:"200ms",callback:function(){d(a,{x:0,y:0,time:"1ms"})}}),
d(b,{x:"100%",y:"0%",time:"1ms",scale:0.2,origin:"50% 50%",opacity:0.1,callback:function(){d(b,{x:"100%",time:"200ms",scale:1,opacity:1,origin:"0% 0%"})}}))}};return s}();window.AppMobi||(AppMobi={});if(!AppMobi.toolkit)AppMobi.toolkit={};
AppMobi.toolkit.scroller=function(){function b(b,a){var c=document.createElement("div");c.style.position="absolute";c.style.width=b+"px";c.style.height=a+"px";c.style.webkitBorderRadius="2px";c.className="scrollBar";c.style.opacity=0.7;c.style.background="black";return c}var c="m11"in new WebKitCSSMatrix?"3d(":"(",g="m11"in new WebKitCSSMatrix?",0)":")",e=!1,f=function(c,a){if(this.el=typeof c=="string"||c instanceof String?document.getElementById(c):c){if(this instanceof f)for(j in a)this[j]=a[j];
else return new f(c,a);try{this.container=this.el.parentNode;var e=this;this.el.addEventListener("touchmove",function(a){e.touchMove(a)},!1);this.el.addEventListener("touchend",function(a){e.touchEnd(a)},!1);if(this.verticalScroll&&this.verticalScroll==!0&&this.scrollBars==!0){var d=b(5,20);d.style.top="0px";d.className=this.vScrollCSS;d.style.opacity="0";this.container.appendChild(d);this.vscrollBar=d}if(this.horizontalScroll&&this.horizontalScroll==!0&&this.scrollBars==!0)d=b(20,5),d.style.bottom=
"0px",d.className=this.hScrollCSS,d.style.opacity="0",this.container.appendChild(d),this.hscrollBar=d}catch(g){alert("error adding scroller"+g)}}else alert("Could not find element for scroller "+c)};f.prototype={lockX:0,lockY:0,boolScrollLock:!1,currentScrollingObject:null,bottomMargin:0,maxTop:0,startTop:0,verticalScroll:!0,horizontalScroll:!1,scrollBars:!0,vscrollBar:null,hscrollBar:null,hScrollCSS:"scrollBar",vScrollCSS:"scrollBar",divHeight:0,lastScrollbar:"",timeMoved:0,vdistanceMoved:0,hdistanceMoved:0,
prevTime:0,finishScrollingObject:null,container:null,maxLeft:0,startLeft:0,rightMargin:0,divWidth:0,touchMove:function(b){try{if(e||(e=!0,this.touchStart(b)),this.currentScrollingObject!=null){b.preventDefault();var a={x:0,y:0},c=0,d=0,f=0,g=0;if(this.verticalScroll){var r=this.lockY-b.touches[0].pageY,r=-r,c=this.startTop+r,d=(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).f;a.y=c}if(this.horizontalScroll){var o=this.lockX-b.touches[0].pageX,o=-o,r=f=this.startLeft+o,g=-(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).e;
a.x=r}this.scrollerMoveCSS(this.currentScrollingObject,a,0);if(this.vscrollBar){var q=this.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.maxTop+c)/this.maxTop*(this.bottomMargin-numOnly(this.vscrollBar.style.height));this.scrollerMoveCSS(this.vscrollBar,{x:0,y:q},0)}this.hscrollBar&&(q=this.rightMargin-numOnly(this.hscrollBar.style.width)-(this.maxLeft+f)/this.maxLeft*(this.rightMargin-numOnly(this.hscrollBar.style.width)),this.scrollerMoveCSS(this.hscrollBar,{x:q,y:0},0));if(this.prevTime){var s=
Math.abs(d)-Math.abs(c),t=Math.abs(g)-Math.abs(f),p=b.timeStamp-this.prevTime;p<1E3?(this.timeMoved+=p,this.vdistanceMoved+=s,this.hdistanceMoved+=t):this.hdistanceMoved=this.vdistanceMoved=this.timeMoved=0}this.prevTime=b.timeStamp}}catch(m){alert("error in scrollMove: "+m)}},touchStart:function(b){var a=this.container,c=this.el;if(a)try{if(b.touches[0].target&&b.touches[0].target.type!=void 0){var d=b.touches[0].target.tagName.toLowerCase();if(d=="select"||d=="input"||d=="button")return}this.hdistanceMoved=
this.vdistanceMoved=this.timeMoved=0;this.finishScrollingObject=this.prevTime=null;this.bottomMargin=a.clientHeight>window.innerHeight?window.innerHeight:a.clientHeight;this.maxTop=c.clientHeight-this.bottomMargin;this.divHeight=c.clientHeight;this.rightMargin=a.clientWidth>window.innerWidth?window.innerWidth:a.clientWidth;this.maxLeft=c.clientWidth-this.rightMargin;this.divWidth=c.clientWidth;if(!(this.maxTop<0)&&b.touches.length==1&&this.boolScrollLock==!1){try{this.startTop=(new WebKitCSSMatrix(window.getComputedStyle(c).webkitTransform)).f,
this.startLeft=(new WebKitCSSMatrix(window.getComputedStyle(c).webkitTransform)).e}catch(e){this.startLeft=this.startTop=0,console.log("error scroller touchstart "+e)}this.lockX=b.touches[0].pageX;this.lockY=b.touches[0].pageY;this.currentScrollingObject=c;if(this.vscrollBar){this.vscrollBar.style.height=parseFloat(this.bottomMargin/this.divHeight)*this.bottomMargin+"px";var f=this.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.maxTop+this.startTop)/this.maxTop*(this.bottomMargin-numOnly(this.vscrollBar.style.height));
this.scrollerMoveCSS(this.vscrollBar,{x:0,y:f},0);this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px";this.vscrollBar.webkitTransition="opacity";this.vscrollBar.style.opacity=1}if(this.hscrollBar)this.hscrollBar.style.width=parseFloat(this.rightMargin/this.divWidth)*this.rightMargin+"px",f=this.rightMargin-numOnly(this.hscrollBar.style.width)-(this.maxTop+this.startLeft)/this.maxtLeft*
(this.rightMargin-numOnly(this.hscrollBar.style.width)),this.scrollerMoveCSS(this.hscrollBar,{x:f,y:0},0),this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom="0px",this.hscrollBar.webkitTransition="opacity",this.hscrollBar.style.opacity=1;b.preventDefault()}}catch(g){alert("error in scrollStart: "+g)}},touchEnd:function(b){if(this.currentScrollingObject!=null){b.preventDefault();b.stopPropagation();
this.finishScrollingObject=this.currentScrollingObject;this.currentScrollingObject=null;b={x:0,y:0};if(this.verticalScroll){var a=-this.vdistanceMoved,c=this.timeMoved,d=2,f=Math.abs(a)/c*1E3,c=Math.abs(a)/c*d,d=f*f/d/1E3/c;newTime=0;d*=a<0?-1:1;newTime=f/2;a=(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).f;a<0&&(a-=d);a>0&&(a=0);a<-this.maxTop&&(a=-this.maxTop);b.y=a}if(this.horizontalScroll)a=-this.hdistanceMoved,c=this.timeMoved,d=2,f=Math.abs(a)/c*1E3,c=Math.abs(a)/c*
d,d=f*f/d/1E3/c,newTime=0,d*=a<0?-1:1,newTime=f/2,a=(new WebKitCSSMatrix(window.getComputedStyle(this.el).webkitTransform)).e,a<0&&(a-=d),a>0&&(a=0),a<-this.maxLeft&&(a=-this.maxLeft),b.x=a;this.scrollerMoveCSS(this.finishScrollingObject,b,300,"ease-out");if(this.vscrollBar){a=this.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.maxTop+b.y)/this.maxTop*(this.bottomMargin-numOnly(this.vscrollBar.style.height));if(a>this.bottomMargin)a=this.bottomMargin;a<0&&(a=0);this.scrollerMoveCSS(this.vscrollBar,
{x:0,y:a},300,"ease-out");this.vscrollBar.style.opacity="0"}if(this.hscrollBar){a=this.rightMargin-numOnly(this.hscrollBar.style.width)-(this.maxLeft+b.x)/this.maxLeft*(this.rightMargin-numOnly(this.hscrollBar.style.width));if(a>this.rightMargin)a=this.rightMargin;a<0&&(a=0);this.scrollerMoveCSS(this.hscrollBar,{x:a,y:0},300,"ease-out");this.hscrollBar.style.opacity="0"}}this.vdistanceMoved=this.hdistanceMoved=0;e=!1},scrollerMoveCSS:function(b,a,e,d){e||(e=0);d||(d="linear");b.style.webkitTransform=
"translate"+c+a.x+"px,"+a.y+"px"+g;b.style.webkitTransitionDuration=e+"ms";b.style.webkitBackfaceVisiblity="hidden";b.style.webkitTransitionTimingFunction=d},scrollTo:function(b){this.scrollerMoveCSS(this.el,b,0)}};return f}();if(!window.numOnly)var numOnly=function(b){isNaN(parseFloat(b))&&(b=b.replace(/[^0-9.-]/,""));return parseFloat(b)};
